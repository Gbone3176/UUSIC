我现在有一个非常有意思的想法需要你帮我实现。在这个网络文件中，主要骨干为一个unet结构的swin-transformer。一开始我是在全部的数据集上训练这个模型，试图达到一个模型同时能够在多个和数据集上进行分类和分割任务。但是我渐渐发现，这样的训练过程会导致模型在每个数据上的学习效果互相影响，导致最后不论是分类还是分割任务。整体都处于一个分数较低的状态。因此我提出了一个新的想法。我需要针对不同的任务(分类和分割)以及数据集(只在私有数据集上进行处理)使用结构相同单是完全独立的decoder进行特征提取，然后再分别接上不同的head进行分类和分割。所有任务使用同一个encoder结构。请根据我的这个想法，思考应该如何修改现有的工作代码，在思考完成之后，帮我补充或修改当前的代码，这个任务非常重要并且紧急，请你仔细思考，并做出最准确的回答。


你理解的并不完整。我一共有两类数据集，一类是分割数据集，有private_Breast、private_Breast_luminal、private_Cardiac、private_Fetal_Head、private_Kidney和private_Thyroid，而分类数据集有private_Appendix，private_Breast、private_Breast_luminal和private_Liver。我需要正对每个数据集，构建不同的decoder，而不是构建一个私有数据集的decoder